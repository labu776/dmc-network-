<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DMC Network ‚Äî Daily Ads Income</title>
  <meta name="description" content="DMC Network ‚Äî ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® Ads ‡¶¶‡ßá‡¶ñ‡ßá ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ bKash/Nagad ‡¶è ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞‡•§ ‡¶∏‡¶æ‡¶á‡¶®‡¶Ü‡¶™, ‡¶≤‡¶ó‡¶á‡¶®, ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°, ‡¶è‡¶°‡¶∏ ‡¶≠‡¶ø‡¶â, ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞, ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤‡¶∏ ‚Äî ‡¶∏‡¶¨ ‡¶è‡¶ï ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü‡•§" />
  <meta name="keywords" content="DMC Network, Ads Income, Monetag, bKash, Nagad, Bangladesh, Earn Online" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%235f2eea'/%3E%3Ctext x='50' y='60' font-size='52' text-anchor='middle' fill='white'%3ED%3C/text%3E%3C/svg%3E">
  <meta property="og:title" content="DMC Network ‚Äî Daily Ads Income" />
  <meta property="og:description" content="‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® Ads ‡¶¶‡ßá‡¶ñ‡ßá  ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®, bKash/Nagad ‡¶è ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶®‡•§" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://i.postimg.cc/C1tCSqqq/3d-glossy-dollar-coin-golden-reflective-dollar-coin-3d-illustration-png.png" />
  <meta property="og:locale" content="bn_BD" />
  <meta name="twitter:card" content="summary_large_image" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "DMC Network",
    "url": "https://dmc-network.example",
    "logo": "https://i.postimg.cc/VNZXLcK6/IMG-20250813-233601-638.jpg",
    "sameAs": []
  }
  </script>
  <style>
    :root{
      --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e; /* purple-blue gradient */
      --glass: rgba(255,255,255,.12);
      --text:#eef; --muted:#cdd3ff;
      --accent:#6c63ff; --accent2:#8a2be2;
      --good:#22c55e; --warn:#f59e0b; --bad:#ef4444;
      --shadow: 0 10px 30px rgba(0,0,0,.25);
      --radius: 16px;
      --transition: all 0.3s ease;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial; color:var(--text); background: linear-gradient(135deg,var(--bg1),var(--bg2) 50%,var(--bg3)); min-height:100%;}
    a{color:inherit;text-decoration:none}
    .container{max-width:600px;margin:0 auto;padding:16px 14px 32px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.06)); border:1px solid rgba(255,255,255,.12); border-radius:var(--radius); box-shadow:var(--shadow); backdrop-filter: blur(10px);}
    .p-16{padding:16px}.p-20{padding:20px}.p-24{padding:24px}
    .mt-12{margin-top:12px}.mt-16{margin-top:16px}.mt-20{margin-top:20px}.mt-28{margin-top:28px}
    .mb-12{margin-bottom:12px}.mb-20{margin-bottom:20px}
    .center{text-align:center}
    .title{font-size:22px;font-weight:700}
    .subtitle{font-size:18px;font-weight:600}
    .muted{color:var(--muted);font-size:13px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:18px;border:1px solid rgba(255,255,255,.18); background: radial-gradient(120% 120% at 50% 0%, var(--accent) 0%, var(--accent2) 100%); color:white; font-weight:700; box-shadow: var(--shadow); cursor:pointer; transition: var(--transition);}
    .btn:active{transform:scale(.98)}
    .btn:hover{filter:brightness(1.08)}
    .btn.ghost{background:transparent;border-color:rgba(255,255,255,.24)}
    .btn.back{background:transparent;border-color:rgba(255,255,255,.24); padding:10px 14px; font-size:14px;}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .tile{padding:16px;border-radius:18px;background:linear-gradient(160deg,rgba(255,255,255,.10),rgba(255,255,255,.06));border:1px solid rgba(255,255,255,.12);text-align:center;min-height:92px;display:flex;flex-direction:column;justify-content:center;gap:8px;cursor:pointer; transition: var(--transition);}
    .tile:hover{transform:translateY(-2px); background:linear-gradient(160deg,rgba(255,255,255,.14),rgba(255,255,255,.10));}
    .badge{font-size:12px;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.14)}
    .input{width:100%;padding:12px 14px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.16); border-radius:14px; color:var(--text); outline:none; transition: var(--transition);}
    .input:focus{border-color:var(--accent); background:rgba(255,255,255,.15);}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .space{height:8px}
    .topbar{position:sticky;top:0;z-index:50; backdrop-filter: blur(10px); background: linear-gradient(180deg, rgba(0,0,0,.4), rgba(0,0,0,0));}
    .topinner{display:flex;align-items:center;justify-content:space-between;padding:10px 6px}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:999px; background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.18)}
    .coin{width:22px;height:22px;object-fit:contain}
    .avatar{width:36px;height:36px;border-radius:50%;border:2px solid rgba(255,255,255,.35);object-fit:cover}
    .marquee{overflow:hidden; white-space:nowrap; border-radius:12px; padding:10px 0; border:1px dashed rgba(255,255,255,.25); background:linear-gradient(90deg,rgba(255,255,255,.05),rgba(255,255,255,.08));}
    .marquee span{display:inline-block; padding-left:100%; animation: slide 16s linear infinite}
    @keyframes slide{from{transform:translateX(0)} to{transform:translateX(-100%)}}
    .hidden{display:none !important}
    .right{text-align:right}
    .small{font-size:12px}
    .list{display:flex;flex-direction:column;gap:10px}
    .item{display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:14px;background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); transition: var(--transition);}
    .item:hover{background:rgba(255,255,255,.12);}
    .status{font-weight:700}
    .success{color:var(--good)} .pending{color:var(--warn)} .declined{color:var(--bad)}
    .link{font-weight:700;text-decoration:underline dotted}
    .view-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;}
    .view-title{display:flex;align-items:center;gap:10px;}
    
    /* Mobile-first tweaks */
    @media(min-width:640px){ 
      .container{max-width:720px} 
      .grid{grid-template-columns:repeat(3,1fr);}
    }
    
    @media(max-width:480px){
      .grid{grid-template-columns:repeat(2,1fr);}
      .tile{min-height:80px;}
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- AUTH -->
    <section id="authView" class="card p-20 mt-16">
      <div class="center title">DMC Network ‚Äî Login / Signup</div>
      <div class="muted center mt-12">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶® Ads ‡¶¶‡ßá‡¶ñ‡ßá ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶® ‚Ä¢ bKash/Nagad Withdraw</div>

      <div class="row mt-20" style="justify-content:center;">
        <button class="btn" id="showSignup">Signup</button>
        <button class="btn ghost" id="showLogin">Login</button>
      </div>

      <!-- Signup -->
      <div id="signupBox" class="mt-20">
        <div class="row">
          <input id="su_name" class="input" placeholder="User Name" />
          <input id="su_number" class="input" placeholder="BDT Number (e.g. 01XXXXXXXXX)" />
          <input id="su_pass" type="password" class="input" placeholder="Password (min 6 chars)" />
          <input id="su_pass2" type="password" class="input" placeholder="Confirm Password" />
        </div>
        <div class="space"></div>
        <button class="btn" id="signupBtn">Create Account</button>
        <div id="signupMsg" class="mt-12 small muted"></div>
      </div>

      <!-- Login -->
      <div id="loginBox" class="mt-20 hidden">
        <div class="row">
          <input id="li_number" class="input" placeholder="Number" />
          <input id="li_pass" type="password" class="input" placeholder="Password" />
        </div>
        <div class="space"></div>
        <button class="btn" id="loginBtn">Login</button>
        <div id="loginMsg" class="mt-12 small muted"></div>
      </div>
    </section>

    <!-- APP -->
    <section id="appView" class="hidden">
      <div class="topbar card">
        <div class="topinner">
          <div class="chip">
            <img class="coin" src="https://i.postimg.cc/C1tCSqqq/3d-glossy-dollar-coin-golden-reflective-dollar-coin-3d-illustration-png.png" alt="coin">
            <span id="earningsTop">‡ß≥0</span>
          </div>
          <div class="row" style="align-items:center;gap:10px">
            <div class="small muted" id="helloUser">Hello</div>
            <img id="avatar" class="avatar" src="https://i.postimg.cc/VNZXLcK6/IMG-20250813-233601-638.jpg" alt="profile">
          </div>
        </div>
      </div>

      <div class="card p-16 mt-12 marquee">
        <span>üå∏‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá DMC Network ‡¶è ‡¶∏‡¶Æ‡¶æ‡¶ó‡¶§ üå∏ ‡¶Ü‡¶™‡¶®‡¶ø DMC Network Daily Ads ‡¶¶‡ßá‡¶ñ‡ßá ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® üò± ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶®‡¶ó‡¶¶ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶§‡¶æ‡¶á ‡¶Ü‡¶∞ ‡¶¶‡ßá‡¶∞‡¶ø ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ñ‡¶®‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶è‡¶∞ ‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡•§ üå∏ &nbsp;&nbsp;&nbsp;</span>
      </div>

      <div class="card p-20 mt-12">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div>
            <div class="title">Main Dashboard</div>
            <div class="muted small">‡¶Ü‡¶ú‡¶ï‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ: <b id="todayCount">0</b>/80 ‚Ä¢ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ü‡ßü: <b id="todayEarn">‡ß≥0</b></div>
          </div>
          <div class="badge" id="balanceBadge">Balance: ‡ß≥0</div>
        </div>

        <div class="grid mt-16">
          <div class="tile" data-go="withdrawView">
            <div>Withdraw</div>
            <div class="muted small">bKash / Nagad</div>
          </div>
          <div class="tile" data-go="adsView">
            <div>Watch Ads</div>
            <div class="muted small">Monetag Direct</div>
          </div>
          <div class="tile" data-go="totalView">
            <div>Total Count</div>
            <div class="muted small">Daily &amp; Lifetime</div>
          </div>
          <div class="tile" data-go="accountView">
            <div>Account Details</div>
            <div class="muted small">Edit &amp; Save</div>
          </div>
          <div class="tile" data-go="profileView">
            <div>Profile</div>
            <div class="muted small">Name &amp; Number</div>
          </div>
          <div class="tile" id="logoutBtn">
            <div>Logout</div>
            <div class="muted small">Secure Exit</div>
          </div>
        </div>
      </div>

      <!-- Withdraw -->
      <div id="withdrawView" class="card p-20 mt-16 hidden">
        <div class="view-header">
          <div class="view-title">
            <button class="btn back" data-back>&larr;</button>
            <div class="subtitle">Withdraw</div>
          </div>
        </div>
        <div class="muted small">‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ Withdraw: <b>‡ß≥520</b>. Withdraw ‡¶ï‡¶∞‡¶≤‡ßá Balance ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßá‡¶ü‡ßá Pending ‡¶π‡¶¨‡ßá‡•§</div>
        <div class="row mt-16">
          <select id="wd_method" class="input">
            <option value="bKash">bKash</option>
            <option value="Nagad">Nagad</option>
          </select>
          <input id="wd_number" class="input" placeholder="bKash/Nagad Number" />
          <input id="wd_amount" class="input" placeholder="Amount (‡ß≥)" inputmode="numeric" />
        </div>
        <div class="space"></div>
        <button class="btn" id="withdrawBtn">Submit Withdraw</button>
        <div id="wd_msg" class="mt-12 small muted"></div>

        <div class="mt-16">
          <div class="badge">History</div>
          <div id="wd_list" class="list mt-12"></div>
        </div>
      </div>

      <!-- Ads -->
      <div id="adsView" class="card p-20 mt-16 hidden">
        <div class="view-header">
          <div class="view-title">
            <button class="btn back" data-back>&larr;</button>
            <div class="subtitle">Watch Ads & Earn</div>
          </div>
        </div>
        <div class="muted small">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶°: <b>‡ß≥4</b> ‚Ä¢ ‡¶¶‡ßà‡¶®‡¶ø‡¶ï Limit: <b>80</b> ‚Ä¢ ‡¶Ü‡¶ú: <b id="adsTodayNow">0</b>/80</div>
        <div class="row mt-16">
          <button class="btn" id="openAdBtn">Open Monetag Ad</button>
          <button class="btn ghost" id="adHowBtn">How it works?</button>
        </div>
        <div id="ad_msg" class="mt-12 small muted"></div>
      </div>

      <!-- Profile -->
      <div id="profileView" class="card p-20 mt-16 hidden">
        <div class="view-header">
          <div class="view-title">
            <button class="btn back" data-back>&larr;</button>
            <div class="subtitle">Your Profile</div>
          </div>
        </div>
        <div class="row mt-16" style="align-items:center">
          <img class="avatar" src="https://i.postimg.cc/VNZXLcK6/IMG-20250813-233601-638.jpg" alt="profile">
          <div>
            <div id="pf_name">User</div>
            <div id="pf_number" class="muted small">01XXXXXXXXX</div>
          </div>
        </div>
      </div>

      <!-- Account -->
      <div id="accountView" class="card p-20 mt-16 hidden">
        <div class="view-header">
          <div class="view-title">
            <button class="btn back" data-back>&larr;</button>
            <div class="subtitle">Account Details</div>
          </div>
        </div>
        <div class="row mt-16">
          <input id="ac_name" class="input" placeholder="User Name" />
          <input id="ac_number" class="input" placeholder="BDT Number" />
          <input id="ac_pass" class="input" type="password" placeholder="New Password (min 6) ‚Äî ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶∞‡¶æ‡¶ñ‡¶≤‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶¨‡ßá ‡¶®‡¶æ" />
        </div>
        <div class="space"></div>
        <button class="btn" id="saveAccount">Save Changes</button>
        <button class="btn ghost" id="logoutBtn2">Logout</button>
        <div id="ac_msg" class="mt-12 small muted"></div>
      </div>

      <!-- Total -->
      <div id="totalView" class="card p-20 mt-16 hidden">
        <div class="view-header">
          <div class="view-title">
            <button class="btn back" data-back>&larr;</button>
            <div class="subtitle">Total Countdown</div>
          </div>
        </div>
        <div class="grid mt-16">
          <div class="tile">
            <div class="muted small">‡¶Ü‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶è‡¶°</div>
            <div id="t_today_ads" class="title">0</div>
          </div>
          <div class="tile">
            <div class="muted small">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ü‡ßü</div>
            <div id="t_today_earn" class="title">‡ß≥0</div>
          </div>
          <div class="tile">
            <div class="muted small">‡¶Æ‡ßã‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶è‡¶°</div>
            <div id="t_total_ads" class="title">0</div>
          </div>
          <div class="tile">
            <div class="muted small">‡¶Æ‡ßã‡¶ü ‡¶Ü‡ßü</div>
            <div id="t_total_earn" class="title">‡ß≥0</div>
          </div>
          <div class="tile">
            <div class="muted small">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</div>
            <div id="t_balance" class="title">‡ß≥0</div>
          </div>
        </div>
      </div>
    </section>
  </div>

<script>
/* ====== Simple Local DB ====== */
const LS_USERS = 'dmc_users';
const LS_CURRENT = 'dmc_current';
const ADS_PER = 4; // BDT per ad
const DAILY_LIMIT = 80;
const MONETAG = "https://otieu.com/4/9763951";

const el = (id)=>document.getElementById(id);
const show = (id)=>el(id).classList.remove('hidden');
const hide = (id)=>el(id).classList.add('hidden');
const fmt = (n)=>'‡ß≥'+ Number(n||0).toLocaleString('bn-BD');

function todayStr(){
  const d=new Date();
  return d.getFullYear()+'-'+String(d.getMonth()+1).padStart(2,'0')+'-'+String(d.getDate()).padStart(2,'0');
}
function getUsers(){ return JSON.parse(localStorage.getItem(LS_USERS)||'{}'); }
function setUsers(obj){ localStorage.setItem(LS_USERS, JSON.stringify(obj)); }
function getCurrent(){ return localStorage.getItem(LS_CURRENT)||''; }
function setCurrent(number){ localStorage.setItem(LS_CURRENT, number||''); }

function ensureDailyReset(u){
  const t=todayStr();
  if(u.lastDay!==t){
    u.lastDay=t;
    u.todayAds=0;
    u.todayEarn=0;
  }
}

function defaultUser({name,number,password}){
  return {
    name, number, password,
    balance: 0,
    todayAds: 0,
    todayEarn: 0,
    totalAds: 0,
    totalEarn: 0,
    lastDay: todayStr(),
    withdrawals: [] // {id, amount, method, number, status, date}
  };
}

/* ====== Auth UI ====== */
const authView = el('authView');
const appView = el('appView');

el('showSignup').onclick=()=>{ hide('loginBox'); show('signupBox'); };
el('showLogin').onclick=()=>{ hide('signupBox'); show('loginBox'); };

el('signupBtn').onclick=()=>{
  const name=el('su_name').value.trim();
  const number=el('su_number').value.trim();
  const pass=el('su_pass').value;
  const pass2=el('su_pass2').value;
  const msg=el('signupMsg');

  if(!name||!number||!pass||!pass2){ msg.textContent='‡¶∏‡¶¨ ‡¶ò‡¶∞ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'; return; }
  if(pass.length<6){ msg.textContent='‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§'; return; }
  if(pass!==pass2){ msg.textContent='‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ‡•§'; return; }

  const users=getUsers();
  if(users[number]){ msg.textContent='‡¶è‡¶á ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá, ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'; return; }

  users[number]=defaultUser({name,number,password:pass});
  setUsers(users);
  setCurrent(number);
  msg.textContent='‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
  initApp();
};

el('loginBtn').onclick=()=>{
  const number=el('li_number').value.trim();
  const pass=el('li_pass').value;
  const msg=el('loginMsg');
  const users=getUsers();
  if(!users[number]){ msg.textContent='‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶Ü‡¶ó‡ßá ‡¶∏‡¶æ‡¶á‡¶®‡¶Ü‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'; return; }
  if(users[number].password!==pass){ msg.textContent='‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡•§'; return; }
  setCurrent(number);
  initApp();
};

/* ====== App State & Views ====== */
const tiles = document.querySelectorAll('.tile[data-go]');
tiles.forEach(t=>t.onclick=()=>switchView(t.dataset.go));

// Add back button functionality
document.querySelectorAll('button[data-back]').forEach(btn => {
  btn.onclick = () => switchView();
});

function switchView(id){
  ['withdrawView','adsView','accountView','profileView','totalView'].forEach(hide);
  if(id) show(id);
  if(id==='withdrawView') renderWithdraws();
  if(id==='accountView') loadAccountForm();
  if(id==='profileView') fillProfile();
  if(id==='totalView') fillTotals();
  if(id==='adsView') refreshAdStats();
}

function currentUser(){
  const n=getCurrent(); if(!n) return null;
  const u=getUsers()[n]; if(!u) return null;
  ensureDailyReset(u);
  const all=getUsers(); all[n]=u; setUsers(all);
  return u;
}

function updateUser(u){
  const all=getUsers(); all[u.number]=u; setUsers(all);
}

function initApp(){
  const u=currentUser();
  if(!u){ hide('appView'); show('authView'); return; }
  hide('authView'); show('appView');
  el('helloUser').textContent='Hi, '+u.name.split(' ')[0];
  el('earningsTop').textContent=fmt(u.balance);
  el('balanceBadge').textContent='Balance: '+fmt(u.balance);
  el('todayCount').textContent=u.todayAds;
  el('todayEarn').textContent=fmt(u.todayEarn);
  refreshAdStats();
  switchView(); // reset subviews
}
window.addEventListener('load', initApp);

/* ====== Withdraw ====== */
function renderWithdraws(){
  const u=currentUser(); if(!u) return;
  const list=el('wd_list'); list.innerHTML='';
  (u.withdrawals||[]).slice().reverse().forEach(w=>{
    const row=document.createElement('div');
    row.className='item';
    row.innerHTML=`
      <div>
        <div><b>${fmt(w.amount)}</b> ‚Ä¢ ${w.method} ‚Ä¢ ${w.toNumber}</div>
        <div class="small muted">${w.date} ‚Ä¢ <span class="status ${w.status}">${w.status}</span></div>
      </div>`;
    list.appendChild(row);
  });
}
el('withdrawBtn').onclick=()=>{
  const u=currentUser(); if(!u) return;
  const method=el('wd_method').value;
  const to=el('wd_number').value.trim();
  const amount=Number(el('wd_amount').value||0);
  const msg=el('wd_msg');
  if(!to || amount<=0){ msg.textContent='‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶ì ‡¶è‡¶Æ‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶¶‡¶ø‡¶®‡•§'; return; }
  if(amount<520){ msg.textContent='‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡ß≥520‡•§'; return; }
  if(amount>u.balance){ msg.textContent='‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶®‡¶Ø‡¶º‡•§'; return; }

  u.balance-=amount;
  const id=Date.now();
  (u.withdrawals=u.withdrawals||[]).push({id,amount,method,toNumber:to,status:'pending',date:new Date().toLocaleString()});
  updateUser(u);
  msg.textContent='‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü Pending ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§';
  el('earningsTop').textContent=fmt(u.balance);
  el('balanceBadge').textContent='Balance: '+fmt(u.balance);
  renderWithdraws();
}

/* ====== Ads ====== */
function refreshAdStats(){
  const u=currentUser(); if(!u) return;
  el('adsTodayNow').textContent=u.todayAds;
  el('todayCount').textContent=u.todayAds;
  el('todayEarn').textContent=fmt(u.todayEarn);
  el('balanceBadge').textContent='Balance: '+fmt(u.balance);
  el('earningsTop').textContent=fmt(u.balance);
}
el('openAdBtn').onclick=()=>{
  const u=currentUser(); if(!u) return;
  if(u.todayAds>=DAILY_LIMIT){
    el('ad_msg').textContent='‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ Limit ‡¶∂‡ßá‡¶∑‡•§ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ‡¶ï‡¶æ‡¶≤ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
    return;
  }
  // Open monetag ad in new tab
  window.open(MONETAG,'_blank','noopener');

  // Credit instantly (‡¶°‡ßá‡¶Æ‡ßã ‡¶≤‡¶ú‡¶ø‡¶ï)
  u.todayAds += 1;
  u.todayEarn += ADS_PER;
  u.totalAds += 1;
  u.totalEarn += ADS_PER;
  u.balance += ADS_PER;
  updateUser(u);
  el('ad_msg').textContent='‡ßß‡¶ü‡¶ø ‡¶è‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ '+fmt(ADS_PER)+' ‡¶ï‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§';
  refreshAdStats();
};
el('adHowBtn').onclick=()=>{
  alert('"Open Monetag Ad" ‡¶ö‡¶æ‡¶™‡¶≤‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá ‡¶è‡¶° ‡¶ì‡¶™‡ßá‡¶® ‡¶π‡¶¨‡ßá‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶°‡ßá ‡ß≥4 ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá‡•§ ‡¶¶‡¶ø‡¶®‡ßá ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö 80‡¶ü‡¶ø‡•§');
};

/* ====== Profile ====== */
function fillProfile(){
  const u=currentUser(); if(!u) return;
  el('pf_name').textContent=u.name;
  el('pf_number').textContent=u.number;
}

/* ====== Account ====== */
function loadAccountForm(){
  const u=currentUser(); if(!u) return;
  el('ac_name').value=u.name;
  el('ac_number').value=u.number;
  el('ac_pass').value='';
}
el('saveAccount').onclick=()=>{
  const olds=currentUser(); if(!olds) return;
  const users=getUsers();

  const newName=el('ac_name').value.trim();
  const newNumber=el('ac_number').value.trim();
  const newPass=el('ac_pass').value;

  if(!newName || !newNumber){ el('ac_msg').textContent='‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®‡•§'; return; }
  if(newPass && newPass.length<6){ el('ac_msg').textContent='‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡•§'; return; }

  // handle number change (key move)
  if(newNumber!==olds.number && users[newNumber]){ el('ac_msg').textContent='‡¶è‡¶á ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶Ü‡¶ó‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá‡•§'; return; }

  const u={...olds, name:newName, number:newNumber};
  if(newPass) u.password=newPass;

  // move key if needed
  if(newNumber!==olds.number){
    delete users[olds.number];
    users[newNumber]=u;
    setUsers(users);
    setCurrent(newNumber);
  }else{
    users[u.number]=u; setUsers(users);
  }
  el('ac_msg').textContent='‡¶∏‡ßá‡¶≠ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§';
  initApp();
};

/* ====== Totals ====== */
function fillTotals(){
  const u=currentUser(); if(!u) return;
  el('t_today_ads').textContent=u.todayAds;
  el('t_today_earn').textContent=fmt(u.todayEarn);
  el('t_total_ads').textContent=u.totalAds;
  el('t_total_earn').textContent=fmt(u.totalEarn);
  el('t_balance').textContent=fmt(u.balance);
}

/* ====== Logout ====== */
function doLogout(){ setCurrent(''); initApp(); }
el('logoutBtn').onclick=doLogout;
el('logoutBtn2').onclick=doLogout;

/* ====== If no session, show auth ====== */
if(!getCurrent()){ show('authView'); }
</script>
</body>
</html>